@page "/"
@using DemoBlog.BlazorClient.Services;

<PageTitle>Index</PageTitle>

<MudPaper Outlined="false" Style="@($"{Themes.Styles.Surface.Surface2(LayoutService.IsDarkMode)}; border-radius: 20px;")">
    <MudStack Spacing="16" Elevation="4" Style="padding: 60px;">
        <MudItem>
            <MudText Align="Align.Center" Typo="Typo.h3" GutterBottom="true">@StaticContent.StaticText.FrontPageTextContent.WELCOME_TITLE</MudText>
            <MudText Align="Align.Center">@StaticContent.StaticText.FrontPageTextContent.WELCOME_TEXT</MudText>
        </MudItem>
        <MudItem>
            <MudGrid Justify="Justify.Center">
                <MudItem>
                    <MudCard>
                        <MudCardMedia Image="images/stock_card_food.jpg" Height="200" />
                        <MudCardContent>
                            <MudText>Story of the day 1</MudText>
                            <MudText Typo="Typo.body2">The quick, brown fox jumps over a lazy dog.</MudText>
                        </MudCardContent>
                        <MudCardActions>
                            <MudButton Variant="Variant.Text" Color="Color.Primary">Learn More</MudButton>
                        </MudCardActions>
                    </MudCard>
                </MudItem>
                <MudItem>
                    <MudCard>
                        <MudCardMedia Image="images/stock_card_food.jpg" Height="200" />
                        <MudCardContent>
                            <MudText>Story of the day 2</MudText>
                            <MudText Typo="Typo.body2">The quick, brown fox jumps over a lazy dog.</MudText>
                        </MudCardContent>
                        <MudCardActions>
                            <MudButton Variant="Variant.Text" Color="Color.Primary">Learn More</MudButton>
                        </MudCardActions>
                    </MudCard>
                </MudItem>
                <MudItem>
                    <MudCard>
                        <MudCardMedia Image="images/stock_card_food.jpg" Height="200" />
                        <MudCardContent>
                            <MudText>Story of the day 3</MudText>
                            <MudText Typo="Typo.body2">The quick, brown fox jumps over a lazy dog.</MudText>
                        </MudCardContent>
                        <MudCardActions>
                            <MudButton Variant="Variant.Text" Color="Color.Primary">Learn More</MudButton>
                        </MudCardActions>
                    </MudCard>
                </MudItem>
            </MudGrid>
        </MudItem>

    </MudStack>
 </MudPaper>

@code {
    [Inject] private LayoutService LayoutService { get; set; }

    protected override void OnInitialized()
    {
        LayoutService.MajorUpdateOccured += LayoutServiceOnMajorUpdateOccured;
        base.OnInitialized();
    }

    public void Dispose()
    {
        LayoutService.MajorUpdateOccured -= LayoutServiceOnMajorUpdateOccured;
    }

    private void LayoutServiceOnMajorUpdateOccured(object? sender, EventArgs e)
    {
        StateHasChanged();
    }
}


